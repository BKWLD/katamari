/*! katamari 25-06-2013 */
function _katamari(){function a(a){if(g.hasOwnProperty(a))return a;if("s"==a.substr(-1)){var b=a.substr(0,a.length-1);if(g.hasOwnProperty(b))return b}return h.hasOwnProperty(a)?h[a]:void 0}function b(a){return"number"==typeof g[a]?g[a]:g[a].ratio}function c(a,c){if(!i.hasOwnProperty(a))return a;var d,e,f,g=i[a];for(d=0;d<g.length;d++){if(e=b(g[d]),0===d&&2>c/e)return g[0];if(2>c/e)return g[d-1];f=e}return g[g.length-1]}function d(a){return"object"==typeof g[a]&&g[a].hasOwnProperty("plural")?g[a].plural:a+"s"}var e,f=2,g={meter:1,kilometer:1e3,mile:1609.34,"garden gnome":.127,bicycle:1.778,elephant:7,"school bus":{ratio:11.2776,plural:"school buses"},dragon:40,"roman colosseum":189,"starship enterprise":641,"golden gate bridge":2737},h={m:"meter",km:"kilometer"},i={"default":["garden gnome","bicycle","elephant","dragon","roman colosseum","starship enterprise","golden gate bridge"]};for(e in g)"object"==typeof g[e]&&g[e].hasOwnProperty("plural")&&(h[g[e].plural]=e);return function(e,g,h){h||(h={}),h.hasOwnProperty("precision")||(h.precision=f);var j=String(e).match(/^([\d.]+) *(.*)$/i),k=parseFloat(j[1]);if(!k)return!1;var l=j[2];if(l||(l="meter"),!(l=a(l)))return!1;if(g||(g="default"),!i.hasOwnProperty(g)&&!(g=a(g)))return!1;var m=b(l);k*=m,g=c(g,k),k/=b(g);var n=Math.pow(10,h.precision);return k=Math.round(k*n)/n,k>1||0===k?k+" "+d(g):k+" "+g}}!function(a){"undefined"==typeof define&&(define=function(b){var c=b();"undefined"==typeof exports?window[a]=c:module.exports=c}),define(function(){return _katamari()})}("katamari");